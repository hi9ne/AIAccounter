# üîß –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫ Telegram Mini App

## üìä –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞

### ‚úÖ –ß—Ç–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ:

1. **–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –º–∏–Ω–∏-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è**:
   - –û–±–Ω–æ–≤–ª–µ–Ω `miniapp-config.js` —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏
   - –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω —Ä–µ–∂–∏–º `n8n` –¥–ª—è –ø—Ä—è–º—ã—Ö API –≤—ã–∑–æ–≤–æ–≤
   - –ò—Å–ø—Ä–∞–≤–ª–µ–Ω URL Supabase (—Å PostgreSQL —Å—Ç—Ä–æ–∫–∏ –Ω–∞ HTTP API)

2. **–£–ª—É—á—à–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫**:
   - –î–æ–±–∞–≤–ª–µ–Ω–æ –¥–µ—Ç–∞–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ `app.js`
   - –î–æ–±–∞–≤–ª–µ–Ω—ã fallback –º–µ—Ö–∞–Ω–∏–∑–º—ã –ø—Ä–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ API
   - –ü–æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è –∑–∞–≥–ª—É—à–∫–∏ –≤–º–µ—Å—Ç–æ –ø—É—Å—Ç—ã—Ö –¥–∞–Ω–Ω—ã—Ö

3. **–°–æ–∑–¥–∞–Ω–∞ —Ç–µ—Å—Ç–æ–≤–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞**:
   - `test.html` –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏ –ø—Ä–æ–±–ª–µ–º
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ –≤—Å–µ—Ö webhooks
   - –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ª–æ–≥–æ–≤ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏

### ‚ùå –û—Å–Ω–æ–≤–Ω–∞—è –ø—Ä–æ–±–ª–µ–º–∞ –Ω–∞–π–¥–µ–Ω–∞:

**Webhook `miniapp` –Ω–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω –≤ n8n!**
- URL: `https://hi9neee.app.n8n.cloud/webhook/miniapp`
- –°—Ç–∞—Ç—É—Å: 404 Not Found
- –≠—Ç–æ –æ—Å–Ω–æ–≤–Ω–∞—è –ø—Ä–∏—á–∏–Ω–∞, –ø–æ—á–µ–º—É –º–∏–Ω–∏-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

## üöÄ –ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å:

### 1. –ò–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å MiniApp_API.json –≤ n8n
```bash
# –§–∞–π–ª —É–∂–µ –µ—Å—Ç—å –≤ –ø—Ä–æ–µ–∫—Ç–µ:
MiniApp_API.json

# –ò–º–ø–æ—Ä—Ç–∏—Ä—É–π—Ç–µ –µ–≥–æ –≤ n8n:
# 1. –û—Ç–∫—Ä–æ–π—Ç–µ n8n
# 2. Workflows ‚Üí Import
# 3. –í—ã–±–µ—Ä–∏—Ç–µ —Ñ–∞–π–ª MiniApp_API.json
# 4. –ê–∫—Ç–∏–≤–∏—Ä—É–π—Ç–µ workflow
```

### 2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å credentials –≤ n8n
–£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã:
- PostgreSQL (Supabase connection)
- Telegram Bot Token

### 3. –ê–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å –≤—Å–µ workflows
–î–æ–ª–∂–Ω—ã –±—ã—Ç—å –∞–∫—Ç–∏–≤–Ω—ã:
- ‚úÖ AnaliziFinance.json (–æ—Å–Ω–æ–≤–Ω–æ–π –±–æ—Ç)
- ‚ùå MiniApp_API.json (–ù–ï –ò–ú–ü–û–†–¢–ò–†–û–í–ê–ù!)
- ‚úÖ Workspace_API.json
- ‚úÖ Analytics_API.json
- ‚úÖ Reports_API.json

### 4. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

#### A. –õ–æ–∫–∞–ª—å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:
```bash
# –û—Ç–∫—Ä–æ–π—Ç–µ —Ñ–∞–π–ª –≤ –±—Ä–∞—É–∑–µ—Ä–µ:
miniapp/test.html

# –ù–∞–∂–º–∏—Ç–µ "–¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å API"
# –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç –ø–æ—Å–ª–µ –∏–º–ø–æ—Ä—Ç–∞ MiniApp_API:
# ‚úÖ Main Webhook: HTTP 200
# ‚úÖ Workspace API: HTTP 200
# ‚úÖ Analytics API: HTTP 200
```

#### B. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ Telegram:
```bash
# 1. –ó–∞–≥—Ä—É–∑–∏—Ç–µ —Ñ–∞–π–ª—ã –Ω–∞ —Ö–æ—Å—Ç–∏–Ω–≥:
# - index.html
# - app.js
# - style.css
# - miniapp-config.js

# 2. –û–±–Ω–æ–≤–∏—Ç–µ Menu Button –≤ BotFather:
# /setmenubutton
# URL: https://your-domain.com/miniapp/

# 3. –û—Ç–∫—Ä–æ–π—Ç–µ –±–æ—Ç–∞ –≤ Telegram
# 4. –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É –º–µ–Ω—é
```

## üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

–ü–æ—Å–ª–µ –∏–º–ø–æ—Ä—Ç–∞ MiniApp_API.json –ø—Ä–æ–≤–µ—Ä—å—Ç–µ:

### ‚úÖ –ß—Ç–æ –¥–æ–ª–∂–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å:
- –ó–∞–≥—Ä—É–∑–∫–∞ –±–∞–ª–∞–Ω—Å–∞ –∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
- –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π
- –ü—Ä–æ—Å–º–æ—Ç—Ä –∏—Å—Ç–æ—Ä–∏–∏
- –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ –∏ –≥—Ä–∞—Ñ–∏–∫–∏
- –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç—á–µ—Ç–æ–≤

### üêõ –ï—Å–ª–∏ –ø—Ä–æ–±–ª–µ–º—ã –æ—Å—Ç–∞–ª–∏—Å—å:

1. **–û—Ç–∫—Ä–æ–π—Ç–µ –∫–æ–Ω—Å–æ–ª—å —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞** (F12):
   - –ò—â–∏—Ç–µ –∫—Ä–∞—Å–Ω—ã–µ –æ—à–∏–±–∫–∏
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–µ—Ç–µ–≤—ã–µ –∑–∞–ø—Ä–æ—Å—ã (Network tab)

2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ n8n**:
   - Settings ‚Üí Log Streaming
   - –ò—â–∏—Ç–µ –æ—à–∏–±–∫–∏ –ø—Ä–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏ workflows

3. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ test.html**:
   - –¢–µ—Å—Ç–∏—Ä—É–µ—Ç –≤—Å–µ API endpoints
   - –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –¥–µ—Ç–∞–ª—å–Ω—ã–µ –ª–æ–≥–∏

## üìû –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –ø–æ–º–æ—â—å

–ï—Å–ª–∏ –ø—Ä–æ–±–ª–µ–º—ã –æ—Å—Ç–∞–ª–∏—Å—å, –ø—Ä–æ–≤–µ—Ä—å—Ç–µ:

1. **–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö**: –≤—ã–ø–æ–ª–Ω–∏—Ç–µ –º–∏–≥—Ä–∞—Ü–∏–∏ –∏–∑ –ø–∞–ø–∫–∏ `migrations/`
2. **–ü—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞**: –ø—Ä–æ–≤–µ—Ä—å—Ç–µ RLS –ø–æ–ª–∏—Ç–∏–∫–∏ –≤ Supabase
3. **CORS –Ω–∞—Å—Ç—Ä–æ–π–∫–∏**: –µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–π —Ö–æ—Å—Ç–∏–Ω–≥

---

**–°—Ç–∞—Ç—É—Å**: ‚úÖ **–î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞, –æ—Å–Ω–æ–≤–Ω–∞—è –ø—Ä–æ–±–ª–µ–º–∞ –Ω–∞–π–¥–µ–Ω–∞**
**–î–µ–π—Å—Ç–≤–∏–µ**: –ò–º–ø–æ—Ä—Ç–∏—Ä—É–π—Ç–µ `MiniApp_API.json` –≤ n8n –∏ –∞–∫—Ç–∏–≤–∏—Ä—É–π—Ç–µ workflow