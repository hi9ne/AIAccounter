<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Accounter - –§–∏–Ω–∞–Ω—Å–æ–≤—ã–π –ø–æ–º–æ—â–Ω–∏–∫</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üí∞ AI Accounter</h1>
            <p>–í–∞—à –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–π —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã–π –ø–æ–º–æ—â–Ω–∏–∫</p>
            <p class="version">v2.2.0 - Transaction Management</p>
        </div>

        <div class="tabs">
            <div class="tab active" onclick="switchTab('add')">‚ûï –î–æ–±–∞–≤–∏—Ç—å</div>
            <div class="tab" onclick="switchTab('stats')">üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</div>
            <div class="tab" onclick="switchTab('history')">üìã –ò—Å—Ç–æ—Ä–∏—è</div>
            <div class="tab" onclick="switchTab('reports')">üìÑ –û—Ç—á—ë—Ç—ã</div>
        </div>

        <!-- –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ -->
        <div id="add-tab" class="tab-content active">
            <div class="quick-actions">
                <div class="quick-action" onclick="quickAdd('income')">
                    <div class="icon">üí∞</div>
                    <div class="text">–î–æ—Ö–æ–¥</div>
                </div>
                <div class="quick-action" onclick="quickAdd('expense')">
                    <div class="icon">üí∏</div>
                    <div class="text">–†–∞—Å—Ö–æ–¥</div>
                </div>
            </div>

            <form id="transaction-form">
                <div class="form-group">
                    <label>–¢–∏–ø –æ–ø–µ—Ä–∞—Ü–∏–∏</label>
                    <select id="operation-type" required>
                        <option value="income">üí∞ –î–æ—Ö–æ–¥</option>
                        <option value="expense">üí∏ –†–∞—Å—Ö–æ–¥</option>
                    </select>
                </div>

                <div class="form-group">
                    <label>–°—É–º–º–∞</label>
                    <div class="form-row">
                        <div class="form-group" style="flex: 2;">
                            <input type="number" id="amount" placeholder="0" required step="0.01">
                        </div>
                        <div class="form-group" style="flex: 1;">
                            <select id="currency" required>
                                <option value="KGS">üá∞üá¨ –°–æ–º</option>
                                <option value="USD">üá∫üá∏ USD</option>
                                <option value="EUR">üá™üá∫ EUR</option>
                                <option value="RUB">üá∑üá∫ RUB</option>
                            </select>
                        </div>
                    </div>
                </div>

                <div class="form-group">
                    <label>–ö–∞—Ç–µ–≥–æ—Ä–∏—è</label>
                    <div class="category-grid" id="category-grid">
                        <!-- –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ –±—É–¥—É—Ç –∑–∞–≥—Ä—É–∂–µ–Ω—ã –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                    </div>
                </div>

                <div class="form-group">
                    <label>–û–ø–∏—Å–∞–Ω–∏–µ</label>
                    <div class="voice-input">
                        <textarea id="description" placeholder="–û–ø–∏—à–∏—Ç–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—é..." rows="3"></textarea>
                        <button type="button" class="voice-btn" onclick="startVoiceInput()">üé§</button>
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label>–î–∞—Ç–∞</label>
                        <input type="date" id="date" required>
                    </div>
                    <div class="form-group">
                        <label>–í—Ä–µ–º—è</label>
                        <input type="time" id="time" required>
                    </div>
                </div>

                <button type="submit" class="btn btn-success">üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
            </form>
        </div>

        <!-- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ -->
        <div id="stats-tab" class="tab-content">
            <div class="stats">
                <div class="stat-item">
                    <span class="stat-label">–î–æ—Ö–æ–¥—ã –∑–∞ –º–µ—Å—è—Ü</span>
                    <span class="stat-value positive" id="monthly-income">0 —Å</span>
                </div>
                <div class="stat-item">
                    <span class="stat-label">–†–∞—Å—Ö–æ–¥—ã –∑–∞ –º–µ—Å—è—Ü</span>
                    <span class="stat-value negative" id="monthly-expenses">0 —Å</span>
                </div>
                <div class="stat-item">
                    <span class="stat-label">–ü—Ä–∏–±—ã–ª—å</span>
                    <span class="stat-value" id="profit">0 —Å</span>
                </div>
                <div class="stat-item">
                    <span class="stat-label">–¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–π</span>
                    <span class="stat-value" id="transactions-count">0</span>
                </div>
            </div>

            <button class="btn" onclick="refreshStats()">üîÑ –û–±–Ω–æ–≤–∏—Ç—å</button>
        </div>

        <!-- –ò—Å—Ç–æ—Ä–∏—è -->
        <div id="history-tab" class="tab-content">
            <div class="form-row">
                <div class="form-group">
                    <select id="history-filter">
                        <option value="all">–í—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏</option>
                        <option value="income">–¢–æ–ª—å–∫–æ –¥–æ—Ö–æ–¥—ã</option>
                        <option value="expense">–¢–æ–ª—å–∫–æ —Ä–∞—Å—Ö–æ–¥—ã</option>
                    </select>
                </div>
                <div class="form-group">
                    <select id="history-period">
                        <option value="week">–ó–∞ –Ω–µ–¥–µ–ª—é</option>
                        <option value="month">–ó–∞ –º–µ—Å—è—Ü</option>
                        <option value="year">–ó–∞ –≥–æ–¥</option>
                    </select>
                </div>
            </div>

            <div id="history-list">
                <!-- –ò—Å—Ç–æ—Ä–∏—è –±—É–¥–µ—Ç –∑–∞–≥—Ä—É–∂–µ–Ω–∞ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
            </div>

            <button class="btn" onclick="loadHistory()">üìã –ó–∞–≥—Ä—É–∑–∏—Ç—å –∏—Å—Ç–æ—Ä–∏—é</button>
        </div>

        <!-- –û—Ç—á—ë—Ç—ã -->
        <div id="reports-tab" class="tab-content">
            <div class="quick-actions">
                <div class="quick-action" onclick="generateReport('pdf')">
                    <div class="icon">üìÑ</div>
                    <div class="text">PDF –æ—Ç—á—ë—Ç</div>
                </div>
                <div class="quick-action" onclick="generateReport('excel')">
                    <div class="icon">üìä</div>
                    <div class="text">Excel –æ—Ç—á—ë—Ç</div>
                </div>
            </div>

            <div class="form-group">
                <label>–ü–µ—Ä–∏–æ–¥ –æ—Ç—á—ë—Ç–∞</label>
                <select id="report-period">
                    <option value="month">–¢–µ–∫—É—â–∏–π –º–µ—Å—è—Ü</option>
                    <option value="quarter">–¢–µ–∫—É—â–∏–π –∫–≤–∞—Ä—Ç–∞–ª</option>
                    <option value="year">–¢–µ–∫—É—â–∏–π –≥–æ–¥</option>
                </select>
            </div>

            <button class="btn" onclick="generateReport('pdf')">üìÑ –°–æ–∑–¥–∞—Ç—å PDF</button>
            <button class="btn btn-secondary" onclick="generateReport('excel')">üìä –°–æ–∑–¥–∞—Ç—å Excel</button>
        </div>
    </div>

    <script src="app.js"></script>
</body>
</html>
