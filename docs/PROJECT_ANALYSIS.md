# üîç –ü–æ–ª–Ω—ã–π –∞–Ω–∞–ª–∏–∑ –ø—Ä–æ–µ–∫—Ç–∞ AIAccounter

**–î–∞—Ç–∞ –∞–Ω–∞–ª–∏–∑–∞:** 21 –Ω–æ—è–±—Ä—è 2025  
**–í–µ—Ä—Å–∏—è:** 2.4.5 / Frontend v3.0.3  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ Production Ready

---

## üìä –û–ë–©–ò–ô –û–ë–ó–û–† –ü–†–û–ï–ö–¢–ê

### –ß—Ç–æ —ç—Ç–æ?
**AIAccounter** - —ç—Ç–æ –ø–æ–ª–Ω–æ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞ –¥–ª—è —É—á—ë—Ç–∞ –ª–∏—á–Ω—ã—Ö —Ñ–∏–Ω–∞–Ω—Å–æ–≤, –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Å Telegram. –ü—Ä–æ–µ–∫—Ç –≤–∫–ª—é—á–∞–µ—Ç:
- ü§ñ AI-–±–æ—Ç–∞ –Ω–∞ –±–∞–∑–µ GPT-4o-mini —Å –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω—ã–º —è–∑—ã–∫–æ–º
- üì± Telegram Mini App (PWA) –¥–ª—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∏
- üîÑ –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—é —á–µ—Ä–µ–∑ n8n workflows
- üíæ PostgreSQL –ë–î –Ω–∞ Supabase
- üöÄ FastAPI backend –Ω–∞ Railway
- ‚òÅÔ∏è Cloudflare Pages –¥–ª—è —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞

---

## üèóÔ∏è –ê–†–•–ò–¢–ï–ö–¢–£–†–ê

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                    –ü–û–õ–¨–ó–û–í–ê–¢–ï–õ–¨                              ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
             ‚îÇ                                ‚îÇ
    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê              ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
    ‚îÇ  Telegram Bot   ‚îÇ              ‚îÇ  Telegram Mini  ‚îÇ
    ‚îÇ  (n8n Agent)    ‚îÇ              ‚îÇ  App (PWA)      ‚îÇ
    ‚îÇ                 ‚îÇ              ‚îÇ                 ‚îÇ
    ‚îÇ  ‚Ä¢ –ì–æ–ª–æ—Å/—Ç–µ–∫—Å—Ç  ‚îÇ              ‚îÇ  ‚Ä¢ –î–∞—à–±–æ—Ä–¥      ‚îÇ
    ‚îÇ  ‚Ä¢ AI –∞–≥–µ–Ω—Ç—ã    ‚îÇ              ‚îÇ  ‚Ä¢ –ì—Ä–∞—Ñ–∏–∫–∏      ‚îÇ
    ‚îÇ  ‚Ä¢ CRUD         ‚îÇ              ‚îÇ  ‚Ä¢ –ò—Å—Ç–æ—Ä–∏—è      ‚îÇ
    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò              ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
             ‚îÇ                                ‚îÇ
             ‚îÇ         ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
             ‚îÇ         ‚îÇ
    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
    ‚îÇ   FastAPI Backend         ‚îÇ
    ‚îÇ   (Railway)               ‚îÇ
    ‚îÇ                           ‚îÇ
    ‚îÇ  ‚Ä¢ REST API               ‚îÇ
    ‚îÇ  ‚Ä¢ JWT Auth               ‚îÇ
    ‚îÇ  ‚Ä¢ CORS                   ‚îÇ
    ‚îÇ  ‚Ä¢ Analytics              ‚îÇ
    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
             ‚îÇ
    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
    ‚îÇ  PostgreSQL DB    ‚îÇ
    ‚îÇ  (Supabase)       ‚îÇ
    ‚îÇ                   ‚îÇ
    ‚îÇ  ‚Ä¢ Users          ‚îÇ
    ‚îÇ  ‚Ä¢ Expenses       ‚îÇ
    ‚îÇ  ‚Ä¢ Income         ‚îÇ
    ‚îÇ  ‚Ä¢ Budgets        ‚îÇ
    ‚îÇ  ‚Ä¢ RAG Vectors    ‚îÇ
    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

---

## üìÅ –°–¢–†–£–ö–¢–£–†–ê –ü–†–û–ï–ö–¢–ê

### 1. Backend (FastAPI) - `/backend/`

**–°—Ç–µ–∫ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π:**
- FastAPI 0.115.4
- SQLAlchemy 2.0.36 (async)
- Pydantic v2 –¥–ª—è –≤–∞–ª–∏–¥–∞—Ü–∏–∏
- PostgreSQL (asyncpg)
- JWT –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è

**–ö–ª—é—á–µ–≤—ã–µ —Ñ–∞–π–ª—ã:**

#### `app/main.py` - –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞
```python
- FastAPI –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
- CORS middleware (–ø–æ–¥–¥–µ—Ä–∂–∫–∞ *)
- –†–æ—É—Ç–∏–Ω–≥ API v1
- Health check endpoints
```

#### `app/config.py` - –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
```python
- DATABASE_URL (Supabase)
- SECRET_KEY –¥–ª—è JWT
- ALLOWED_ORIGINS (CORS)
- TELEGRAM_BOT_TOKEN
```

#### `app/database.py` - –ë–î
```python
- async_engine —Å NullPool
- AsyncSession —Ñ–∞–±—Ä–∏–∫–∞
- get_db() dependency
```

#### `app/models/models.py` - ORM –º–æ–¥–µ–ª–∏
```python
‚úÖ User - –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ (telegram_chat_id)
‚úÖ Expense - —Ä–∞—Å—Ö–æ–¥—ã
‚úÖ Income - –¥–æ—Ö–æ–¥—ã
‚úÖ Budget - –±—é–¥–∂–µ—Ç—ã
‚úÖ ExchangeRate - –∫—É—Ä—Å—ã –≤–∞–ª—é—Ç
‚úÖ Notification - —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
‚úÖ RecurringPayment - –ø–æ–¥–ø–∏—Å–∫–∏
```

#### `app/api/v1/` - API —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã

**auth.py** - –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
```python
POST /api/v1/auth/telegram
  - –í—Ö–æ–¥ —á–µ—Ä–µ–∑ Telegram
  - –°–æ–∑–¥–∞–Ω–∏–µ/–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —é–∑–µ—Ä–∞
  - –í—ã–¥–∞—á–∞ JWT —Ç–æ–∫–µ–Ω–∞
  
GET /api/v1/auth/me
  - –ò–Ω—Ñ–æ –æ —Ç–µ–∫—É—â–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ
```

**analytics.py** - –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ (–æ—Å–Ω–æ–≤–Ω–æ–π)
```python
GET /api/v1/analytics/stats
  - –ë–∞–∑–æ–≤–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ (–¥–æ—Ö–æ–¥—ã, —Ä–∞—Å—Ö–æ–¥—ã, –±–∞–ª–∞–Ω—Å)
  - –ü–∞—Ä–∞–º–µ—Ç—Ä—ã: start_date, end_date
  
GET /api/v1/analytics/categories/top
  - –¢–æ–ø –∫–∞—Ç–µ–≥–æ—Ä–∏–π —Ä–∞—Å—Ö–æ–¥–æ–≤
  - –° –ø—Ä–æ—Ü–µ–Ω—Ç–∞–º–∏ –∏ —Å—É–º–º–∞–º–∏
  
GET /api/v1/analytics/trends
  - –¢—Ä–µ–Ω–¥—ã –ø–æ –¥–Ω—è–º/–Ω–µ–¥–µ–ª—è–º/–º–µ—Å—è—Ü–∞–º
  
GET /api/v1/analytics/overview
  - –ö–æ–º–ø–ª–µ–∫—Å–Ω—ã–π –æ–±–∑–æ—Ä (–í–°–Å –≤ –æ–¥–Ω–æ–º –∑–∞–ø—Ä–æ—Å–µ!)
  - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ Mini App –¥–ª—è –≥–ª–∞–≤–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã
```

**expenses.py / income.py**
```python
GET /expenses - —Å–ø–∏—Å–æ–∫ —Ä–∞—Å—Ö–æ–¥–æ–≤
POST /expenses - —Å–æ–∑–¥–∞—Ç—å —Ä–∞—Å—Ö–æ–¥
DELETE /expenses/{id} - —É–¥–∞–ª–∏—Ç—å (soft delete)
```

**rates.py** - –ö—É—Ä—Å—ã –≤–∞–ª—é—Ç
```python
GET /rates/latest - –∞–∫—Ç—É–∞–ª—å–Ω—ã–µ –∫—É—Ä—Å—ã
GET /rates/convert - –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è —Å—É–º–º
```

**reports.py** - –û—Ç—á—ë—Ç—ã
```python
GET /reports/period - –æ—Ç—á—ë—Ç –∑–∞ –ø–µ—Ä–∏–æ–¥
GET /reports/export/csv - —ç–∫—Å–ø–æ—Ä—Ç CSV
GET /reports/export/excel - —ç–∫—Å–ø–æ—Ä—Ç Excel
```

**budget.py** - –ë—é–¥–∂–µ—Ç—ã
```python
GET /budget/status - —Å—Ç–∞—Ç—É—Å –±—é–¥–∂–µ—Ç–∞
POST /budget - —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –±—é–¥–∂–µ—Ç
```

---

### 2. Frontend (Mini App) - `/miniapp/`

**–°—Ç–µ–∫:**
- Vanilla JS (–±–µ–∑ —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–æ–≤!)
- Chart.js –¥–ª—è –≥—Ä–∞—Ñ–∏–∫–æ–≤
- ApexCharts –¥–ª—è –ø—Ä–æ–¥–≤–∏–Ω—É—Ç–æ–π –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏
- Telegram Web App API
- Service Worker (PWA)

**–ö–ª—é—á–µ–≤—ã–µ —Ñ–∞–π–ª—ã:**

#### `index.html` (497 —Å—Ç—Ä–æ–∫)
```html
–°—Ç—Ä—É–∫—Ç—É—Ä–∞:
  ‚Ä¢ Header —Å –∞–≤–∞—Ç–∞—Ä–æ–º –∏ –≤—ã–±–æ—Ä–æ–º –ø–µ—Ä–∏–æ–¥–∞
  ‚Ä¢ –°–µ–∫—Ü–∏—è –±–∞–ª–∞–Ω—Å–∞ (–≥–ª–∞–≤–Ω–∞—è –∫–∞—Ä—Ç–æ—á–∫–∞)
  ‚Ä¢ –ë—ã—Å—Ç—Ä–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ (pills)
  ‚Ä¢ –ü–æ—Å–ª–µ–¥–Ω–∏–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏
  ‚Ä¢ –¢–æ–ø –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
  ‚Ä¢ Bottom Navigation (6 –≤–∫–ª–∞–¥–æ–∫)
```

#### `app.js` (1662 —Å—Ç—Ä–æ–∫–∏) - –û—Å–Ω–æ–≤–Ω–∞—è –ª–æ–≥–∏–∫–∞
```javascript
// –ì–ª–æ–±–∞–ª—å–Ω—ã–π —Å—Ç–µ–π—Ç
state = {
  currentScreen: 'home',
  currentPeriod: 'week',
  userId: telegram_id –∏–ª–∏ TEST_USER_ID,
  currency: 'KGS',
  theme: 'auto'
}

// –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ
cache = {
  data: Map(),
  version: APP_VERSION (3.0.3),
  TTL: 300 —Å–µ–∫—É–Ω–¥ (5 –º–∏–Ω—É—Ç)
}

// –û—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏:
- authenticate() - JWT —á–µ—Ä–µ–∑ /auth/telegram
- loadDashboard() - –≥–ª–∞–≤–Ω—ã–π —ç–∫—Ä–∞–Ω
- loadAnalytics() - –≥—Ä–∞—Ñ–∏–∫–∏ –∏ –∞–Ω–∞–ª–∏—Ç–∏–∫–∞
- loadHistory() - –∏—Å—Ç–æ—Ä–∏—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π
- switchPeriod() - —Å–º–µ–Ω–∞ –ø–µ—Ä–∏–æ–¥–∞ (–¥–µ–Ω—å/–Ω–µ–¥–µ–ª—è/–º–µ—Å—è—Ü/–≥–æ–¥)
```

**üî• –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
1. **Smart Caching** - –∫—ç—à —Å –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ–º –∏ TTL
2. **Preloading** - –ø—Ä–µ–¥–∑–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö –ø—Ä–∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏
3. **Currency Conversion** - –∞–≤—Ç–æ–∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è —á–µ—Ä–µ–∑ API –∫—É—Ä—Å–æ–≤
4. **Theme System** - –∞–≤—Ç–æ/—Å–≤–µ—Ç–ª–∞—è/—Ç—ë–º–Ω–∞—è —Ç–µ–º—ã
5. **Offline Support** - Service Worker –¥–ª—è PWA

#### `api-helper.js` (396 —Å—Ç—Ä–æ–∫) - API –∫–ª–∏–µ–Ω—Ç
```javascript
class APIHelper {
  // –ë–∞–∑–æ–≤—ã–µ –º–µ—Ç–æ–¥—ã
  get(), post(), put(), delete()
  
  // –°–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ
  authTelegram(data)
  getOverview({period, start_date, end_date})
  getStats(params)
  getTopCategories(params)
  getHistory(params)
  
  // –ó–∞—â–∏—Ç–∞ –æ—Ç –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤
  pendingRequests = new Map()
}
```

#### `miniapp-config.js` - –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
```javascript
api: {
  baseUrl: localhost ? 
    'http://localhost:8000/api/v1' :
    'https://aiaccounterbackend-production.up.railway.app/api/v1'
}
```

#### `style.css` (1800 —Å—Ç—Ä–æ–∫) - –°—Ç–∏–ª–∏
```css
‚Ä¢ CSS Variables –¥–ª—è —Ç–µ–º
‚Ä¢ Mobile-first responsive
‚Ä¢ Gradient cards
‚Ä¢ Smooth animations
‚Ä¢ Dark mode support
```

#### `sw.js` (175 —Å—Ç—Ä–æ–∫) - Service Worker
```javascript
CACHE_NAME = 'aiaccounter-v3.0.3'

// –°—Ç—Ä–∞—Ç–µ–≥–∏–∏:
- App files: Network-first
- API: Network-first —Å cache fallback
- Static: Cache-first
```

---

### 3. n8n Workflows - `/n8n/workflows/`

**–û—Å–Ω–æ–≤–Ω—ã–µ workflows:**

#### `Ai Financer.json` - –ì–ª–∞–≤–Ω—ã–π –±–æ—Ç
```
–§—É–Ω–∫—Ü–∏–∏:
  ‚Ä¢ Telegram –±–æ—Ç (webhook)
  ‚Ä¢ –ì–æ–ª–æ—Å–æ–≤–æ–π –≤–≤–æ–¥ (Whisper)
  ‚Ä¢ Main AI Agent (GPT-4o-mini)
  ‚Ä¢ Income Agent (—Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç –ø–æ –¥–æ—Ö–æ–¥–∞–º)
  ‚Ä¢ Expenses Agent (—Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç –ø–æ —Ä–∞—Å—Ö–æ–¥–∞–º)
  ‚Ä¢ RAG Vector Search (embeddings)
  ‚Ä¢ CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏ —Å –ë–î
```

#### `Helper AI Financer.json` - –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–π
```
–í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è –≥–ª–∞–≤–Ω–æ–≥–æ –±–æ—Ç–∞
```

#### `ExchangeRates_Daily.json`
```
–ê–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫—É—Ä—Å–æ–≤ –≤–∞–ª—é—Ç
–†–∞—Å–ø–∏—Å–∞–Ω–∏–µ: –µ–∂–µ–¥–Ω–µ–≤–Ω–æ –≤ 09:00
```

#### `Recurring_Payments_Checker.json`
```
–ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–ø–∏—Å–æ–∫ –∏ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è
–†–∞—Å–ø–∏—Å–∞–Ω–∏–µ: –µ–∂–µ–¥–Ω–µ–≤–Ω–æ –≤ 09:00
```

#### `TaxCalculator_Kyrgyzstan.json`
```
–†–∞—Å—á—ë—Ç –Ω–∞–ª–æ–≥–æ–≤ –¥–ª—è –ò–ü –≤ –ö—ã—Ä–≥—ã–∑—Å—Ç–∞–Ω–µ
```

---

## üóÑÔ∏è –ë–ê–ó–ê –î–ê–ù–ù–´–• (Supabase PostgreSQL)

### –û—Å–Ω–æ–≤–Ω—ã–µ —Ç–∞–±–ª–∏—Ü—ã:

#### `users`
```sql
user_id SERIAL PRIMARY KEY
telegram_chat_id INTEGER UNIQUE NOT NULL
username VARCHAR
first_name VARCHAR
last_name VARCHAR
language_code VARCHAR DEFAULT 'ru'
timezone VARCHAR DEFAULT 'Asia/Bishkek'
is_active BOOLEAN DEFAULT true
last_activity TIMESTAMP
```

#### `expenses`
```sql
id SERIAL PRIMARY KEY
user_id INTEGER FK ‚Üí users
amount FLOAT NOT NULL
currency VARCHAR DEFAULT 'KGS'
category VARCHAR NOT NULL
description TEXT
date TIMESTAMP NOT NULL
created_at TIMESTAMP
updated_at TIMESTAMP
deleted_at TIMESTAMP (soft delete!)
```

#### `income`
```sql
–ê–Ω–∞–ª–æ–≥–∏—á–Ω–∞ expenses
```

#### `budgets`
```sql
id SERIAL PRIMARY KEY
user_id INTEGER FK ‚Üí users
month VARCHAR (YYYY-MM)
budget_amount FLOAT
currency VARCHAR DEFAULT 'KGS'
```

#### `exchange_rates`
```sql
id SERIAL PRIMARY KEY
date DATE
from_currency VARCHAR DEFAULT 'KGS'
to_currency VARCHAR
rate FLOAT
created_at TIMESTAMP
```

#### `notifications`
```sql
id SERIAL PRIMARY KEY
user_id INTEGER FK ‚Üí users
type VARCHAR (budget_alert, recurring_payment, etc.)
title VARCHAR
message TEXT
is_read BOOLEAN DEFAULT false
created_at TIMESTAMP
```

#### `recurring_payments` (–ø–æ–¥–ø–∏—Å–∫–∏)
```sql
id SERIAL PRIMARY KEY
user_id INTEGER FK ‚Üí users
name VARCHAR
amount FLOAT
currency VARCHAR
frequency VARCHAR (daily, weekly, monthly, yearly)
next_payment_date DATE
is_active BOOLEAN
```

### RAG (Vector Search) —Ç–∞–±–ª–∏—Ü—ã:

#### `expenses_embeddings`
```sql
id UUID PRIMARY KEY
expense_id INTEGER FK ‚Üí expenses
user_id INTEGER FK ‚Üí users
content TEXT (–¥–ª—è embedding)
metadata JSONB
embedding VECTOR(1536) -- OpenAI text-embedding-3-small
```

#### `income_embeddings`
```sql
–ê–Ω–∞–ª–æ–≥–∏—á–Ω–∞ expenses_embeddings
```

### Chat History –¥–ª—è AI –∞–≥–µ–Ω—Ç–æ–≤:

```sql
n8n_chat_histories_general
n8n_chat_histories_income
n8n_chat_histories_expenses
```

### –§—É–Ω–∫—Ü–∏–∏ PostgreSQL:

#### `match_expenses_documents()`
```sql
–°–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–π –ø–æ–∏—Å–∫ —Ä–∞—Å—Ö–æ–¥–æ–≤ —á–µ—Ä–µ–∑ cosine similarity
–ü–∞—Ä–∞–º–µ—Ç—Ä—ã: 
  - query_embedding VECTOR(1536)
  - match_count INT
  - filter_user_id INT
```

#### `match_income_documents()`
```sql
–ê–Ω–∞–ª–æ–≥–∏—á–Ω–æ –¥–ª—è –¥–æ—Ö–æ–¥–æ–≤
```

---

## üîê –ë–ï–ó–û–ü–ê–°–ù–û–°–¢–¨ –ò –ê–í–¢–û–†–ò–ó–ê–¶–ò–Ø

### JWT Flow:

```
1. Frontend ‚Üí POST /api/v1/auth/telegram
   Payload: {
     telegram_chat_id: "123456",
     first_name: "User",
     username: "username"
   }

2. Backend –ø—Ä–æ–≤–µ—Ä—è–µ—Ç/—Å–æ–∑–¥–∞—ë—Ç —é–∑–µ—Ä–∞ –≤ –ë–î

3. Backend ‚Üí JWT —Ç–æ–∫–µ–Ω
   {
     "sub": "user_id",
     "exp": timestamp + 30 min
   }

4. Frontend —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –≤ localStorage
   api.setToken(access_token)

5. –í—Å–µ –∑–∞–ø—Ä–æ—Å—ã ‚Üí Header:
   Authorization: Bearer <token>
```

### CORS:

```python
# main.py
allow_origins=["*"]  # –†–∞–∑—Ä–µ—à–µ–Ω—ã –≤—Å–µ –¥–æ–º–µ–Ω—ã
allow_credentials=True
allow_methods=["*"]
allow_headers=["*"]
```

---

## üé® UI/UX –û–°–û–ë–ï–ù–ù–û–°–¢–ò

### –¢–µ–º—ã:
- üåû –°–≤–µ—Ç–ª–∞—è (Light)
- üåô –¢—ë–º–Ω–∞—è (Dark)
- üîÑ –ê–≤—Ç–æ (System)

### –ù–∞–≤–∏–≥–∞—Ü–∏—è:
```
Bottom Nav (6 –≤–∫–ª–∞–¥–æ–∫):
  üè† –ì–ª–∞–≤–Ω–∞—è (home)
  üìä –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ (analytics)
  üìú –ò—Å—Ç–æ—Ä–∏—è (history)
  ‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏ (settings)
  üìÑ –û—Ç—á—ë—Ç—ã (reports)
```

### –ü–µ—Ä–∏–æ–¥—ã:
```
–î–µ–Ω—å | –ù–µ–¥–µ–ª—è | –ú–µ—Å—è—Ü | –ì–æ–¥
```

### –í–∞–ª—é—Ç—ã:
```
KGS (—Å–æ–º) | USD | EUR | RUB
```

### –ì—Ä–∞—Ñ–∏–∫–∏:
1. **–ë–∞–ª–∞–Ω—Å-—Ç—Ä–µ–∫–µ—Ä** - –ª–∏–Ω–µ–π–Ω—ã–π –≥—Ä–∞—Ñ–∏–∫ (Chart.js)
2. **–ö–∞—Ç–µ–≥–æ—Ä–∏–∏** - pie chart (ApexCharts)
3. **–¢—Ä–µ–Ω–¥—ã** - bar chart –ø–æ –¥–Ω—è–º/–Ω–µ–¥–µ–ª—è–º
4. **–°—Ä–∞–≤–Ω–µ–Ω–∏–µ** - income vs expense

---

## üöÄ –î–ï–ü–õ–û–ô –ò –û–ö–†–£–ñ–ï–ù–ò–ï

### Production:

```
Frontend:  https://aiaccounter.pages.dev (Cloudflare Pages)
Backend:   https://aiaccounterbackend-production.up.railway.app (Railway)
Database:  Supabase PostgreSQL
n8n:       https://hi9neee.app.n8n.cloud
```

### Environment Variables:

#### Backend (.env):
```bash
DATABASE_URL=postgresql+asyncpg://...@supabase.com:6543/postgres
SECRET_KEY=your-secret-key
TELEGRAM_BOT_TOKEN=your-bot-token
ALLOWED_ORIGINS=["https://aiaccounter.pages.dev"]
```

#### Frontend (miniapp-config.js):
```javascript
api.baseUrl = 'https://aiaccounterbackend-production.up.railway.app/api/v1'
```

---

## üìä –ü–†–û–ò–ó–í–û–î–ò–¢–ï–õ–¨–ù–û–°–¢–¨

### –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏:

1. **Backend:**
   - NullPool –¥–ª—è Supabase connection pooling
   - Async SQLAlchemy
   - –û—Ç–∫–ª—é—á—ë–Ω JIT –≤ PostgreSQL
   - statement_cache_size = 0

2. **Frontend:**
   - Smart caching (5 –º–∏–Ω TTL)
   - Preloading –¥–∞–Ω–Ω—ã—Ö
   - Debounce –¥–ª—è –∑–∞–ø—Ä–æ—Å–æ–≤
   - Service Worker –¥–ª—è offline
   - Lazy loading –≥—Ä–∞—Ñ–∏–∫–æ–≤

3. **API:**
   - `/analytics/overview` - –æ–¥–∏–Ω –∑–∞–ø—Ä–æ—Å –¥–ª—è –≤—Å–µ–π –≥–ª–∞–≤–Ω–æ–π
   - Batch –∑–∞–ø—Ä–æ—Å—ã –¥–ª—è history
   - Cursor pagination (planned)

---

## üêõ –ò–ó–í–ï–°–¢–ù–´–ï –ü–†–û–ë–õ–ï–ú–´ (FIXED)

### ‚úÖ v2.4.5 - –î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—Ç—á—ë—Ç–æ–≤
**–ü—Ä–æ–±–ª–µ–º–∞:** Daily –æ—Ç—á—ë—Ç –ø—Ä–∏—Ö–æ–¥–∏–ª 2 —Ä–∞–∑–∞  
**–†–µ—à–µ–Ω–∏–µ:** –û—Ç–∫–ª—é—á–µ–Ω—ã auto-triggers –¥–ª—è Weekly/Monthly

### ‚úÖ v2.4.4 - –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø–µ—Ä–∏–æ–¥ –≤ –º–µ—Å—è—á–Ω–æ–º –æ—Ç—á—ë—Ç–µ
**–ü—Ä–æ–±–ª–µ–º–∞:** –ü–æ–∫–∞–∑—ã–≤–∞–ª –ø—Ä–æ—à–ª—ã–π –º–µ—Å—è—Ü  
**–†–µ—à–µ–Ω–∏–µ:** –ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã SQL –∑–∞–ø—Ä–æ—Å—ã –Ω–∞ —Ç–µ–∫—É—â–∏–π –º–µ—Å—è—Ü

### ‚úÖ v3.0.3 - Cache invalidation
**–ü—Ä–æ–±–ª–µ–º–∞:** –°—Ç–∞—Ä—ã–µ –¥–∞–Ω–Ω—ã–µ –ø–æ—Å–ª–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è  
**–†–µ—à–µ–Ω–∏–µ:** –í–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∫—ç—à–∞ –ø–æ APP_VERSION

---

## üîß –¢–ï–•–ù–ò–ß–ï–°–ö–ò–ï –î–ï–¢–ê–õ–ò

### Soft Delete:
```sql
-- –†–∞—Å—Ö–æ–¥—ã –Ω–µ —É–¥–∞–ª—è—é—Ç—Å—è —Ñ–∏–∑–∏—á–µ—Å–∫–∏
UPDATE expenses SET deleted_at = NOW() WHERE id = ?

-- –í –∑–∞–ø—Ä–æ—Å–∞—Ö –≤—Å–µ–≥–¥–∞ —Ñ–∏–ª—å—Ç—Ä
WHERE deleted_at IS NULL
```

### Currency Conversion:
```javascript
// –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è –≤ app.js
async function convertCurrency(amount, from, to) {
  if (from === to) return amount;
  const rate = exchangeRates[`${from}_${to}`];
  return amount * rate;
}
```

### Period Calculation:
```javascript
function getPeriodDates(period) {
  const now = new Date();
  switch(period) {
    case 'day': return [today, today];
    case 'week': return [monday, sunday];
    case 'month': return [1st, lastDay];
    case 'year': return [jan1, dec31];
  }
}
```

---

## üìà –ú–ï–¢–†–ò–ö–ò –ò –ê–ù–ê–õ–ò–¢–ò–ö–ê

### –î–æ—Å—Ç—É–ø–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞:

1. **–ë–∞–∑–æ–≤–∞—è:**
   - –û–±—â–∏–π –¥–æ—Ö–æ–¥
   - –û–±—â–∏–µ —Ä–∞—Å—Ö–æ–¥—ã
   - –ë–∞–ª–∞–Ω—Å (–¥–æ—Ö–æ–¥ - —Ä–∞—Å—Ö–æ–¥)
   - –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π

2. **–ü–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º:**
   - –¢–æ–ø-10 –∫–∞—Ç–µ–≥–æ—Ä–∏–π —Ä–∞—Å—Ö–æ–¥–æ–≤
   - –ü—Ä–æ—Ü–µ–Ω—Ç–Ω–æ–µ —Å–æ–æ—Ç–Ω–æ—à–µ–Ω–∏–µ
   - –°—É–º–º—ã –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º

3. **–¢—Ä–µ–Ω–¥—ã:**
   - –ì—Ä–∞—Ñ–∏–∫ –¥–æ—Ö–æ–¥–æ–≤ –ø–æ –¥–Ω—è–º
   - –ì—Ä–∞—Ñ–∏–∫ —Ä–∞—Å—Ö–æ–¥–æ–≤ –ø–æ –¥–Ω—è–º
   - –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –ø–æ –ø–µ—Ä–∏–æ–¥–∞–º

4. **–ë—é–¥–∂–µ—Ç:**
   - –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–π –ª–∏–º–∏—Ç
   - –ü–æ—Ç—Ä–∞—á–µ–Ω–æ / –æ—Å—Ç–∞–ª–æ—Å—å
   - –ü—Ä–æ—Ü–µ–Ω—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
   - –ü—Ä–æ–≥–Ω–æ–∑ –¥–æ –∫–æ–Ω—Ü–∞ –º–µ—Å—è—Ü–∞

---

## ü§ñ AI –ê–ì–ï–ù–¢–´

### Main Agent (–û—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä)
```
Model: gpt-4o-mini
Memory: n8n_chat_histories_general (10 —Å–æ–æ–±—â–µ–Ω–∏–π)
Tools:
  - Income Agent (call_tool)
  - Expenses Agent (call_tool)
  - Create Income
  - Delete Income
  - Create Expense
  - Delete Expense
```

### Income Agent
```
Model: gpt-4o-mini
Memory: n8n_chat_histories_income
Tools:
  - Get Income Rows (SQL)
  - Income Vector Store (RAG)
  - Calculator
```

### Expenses Agent
```
Model: gpt-4o-mini
Memory: n8n_chat_histories_expenses
Tools:
  - Get Expense Rows (SQL)
  - Expense Vector Store (RAG)
  - Calculator
```

### RAG Vector Search:
```
Embeddings: text-embedding-3-small (1536 dims)
Storage: PostgreSQL pgvector
Similarity: Cosine
Top-K: 5 results
```

---

## üì± TELEGRAM MINI APP

### –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è:
```javascript
const tg = window.Telegram?.WebApp;
tg.ready();
tg.expand();
```

### –î–∞–Ω–Ω—ã–µ —é–∑–µ—Ä–∞:
```javascript
{
  id: telegram_user_id,
  first_name: "User",
  username: "username",
  language_code: "ru",
  photo_url: "https://..."
}
```

### Telegram Theme Variables:
```css
var(--tg-theme-bg-color)
var(--tg-theme-text-color)
var(--tg-theme-button-color)
```

---

## üîÑ WORKFLOW –ê–í–¢–û–ú–ê–¢–ò–ó–ê–¶–ò–ò

### –ï–∂–µ–¥–Ω–µ–≤–Ω—ã–µ –∑–∞–¥–∞—á–∏ (09:00):
1. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫—É—Ä—Å–æ–≤ –≤–∞–ª—é—Ç
2. –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–ø–∏—Å–æ–∫ (recurring payments)
3. –û—Ç–ø—Ä–∞–≤–∫–∞ daily –æ—Ç—á—ë—Ç–æ–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º

### –ï–∂–µ–Ω–µ–¥–µ–ª—å–Ω—ã–µ –∑–∞–¥–∞—á–∏:
1. ML-–∞–Ω–∞–ª–∏–∑ —Ç—Ä–∞—Ç (–∞–Ω–æ–º–∞–ª–∏–∏)
2. Weekly –æ—Ç—á—ë—Ç—ã (–æ—Ç–∫–ª—é—á–µ–Ω–æ –≤ v2.4.5)

### –ï–∂–µ–º–µ—Å—è—á–Ω—ã–µ –∑–∞–¥–∞—á–∏:
1. Monthly –æ—Ç—á—ë—Ç—ã (–æ—Ç–∫–ª—é—á–µ–Ω–æ –≤ v2.4.5)
2. –ù–∞–ª–æ–≥–æ–≤—ã–µ —Ä–∞—Å—á—ë—Ç—ã –¥–ª—è –ò–ü

---

## üéØ –ö–ê–¢–ï–ì–û–†–ò–ò

### –†–∞—Å—Ö–æ–¥—ã (35+ –∫–∞—Ç–µ–≥–æ—Ä–∏–π):
```
üè† –ñ–∏–ª—å—ë, üçî –ï–¥–∞, üöó –¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç, üëï –û–¥–µ–∂–¥–∞
üíä –ó–¥–æ—Ä–æ–≤—å–µ, üéì –û–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ, üéÆ –†–∞–∑–≤–ª–µ—á–µ–Ω–∏—è
üì± –°–≤—è–∑—å, üèãÔ∏è –°–ø–æ—Ä—Ç, üéÅ –ü–æ–¥–∞—Ä–∫–∏, üè¶ –ö—Ä–µ–¥–∏—Ç—ã
üõí –ü–æ–∫—É–ø–∫–∏, ‚úàÔ∏è –ü—É—Ç–µ—à–µ—Å—Ç–≤–∏—è, üöó –ê–≤—Ç–æ
```

### –î–æ—Ö–æ–¥—ã:
```
üíº –ó–∞—Ä–ø–ª–∞—Ç–∞, üí∞ –ë–∏–∑–Ω–µ—Å, üìà –ò–Ω–≤–µ—Å—Ç–∏—Ü–∏–∏
üéÅ –ü–æ–¥–∞—Ä–∫–∏, üíµ –î—Ä—É–≥–æ–µ
```

---

## üìö –î–û–ö–£–ú–ï–ù–¢–ê–¶–ò–Ø

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ `/docs/`:
```
AI_FINANCER_QUICKSTART.md - –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç
API_COMPLETE.md - –ü–æ–ª–Ω–æ–µ API
ARCHITECTURE_DIAGRAM.md - –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
DATABASE_STRUCTURE.md - –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ë–î
MULTICURRENCY_GUIDE.md - –†–∞–±–æ—Ç–∞ —Å –≤–∞–ª—é—Ç–∞–º–∏
PDF_REPORTS_SETUP.md - –ù–∞—Å—Ç—Ä–æ–π–∫–∞ PDF
TELEGRAM_AUTH.md - Telegram –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
UI_UX_GUIDE.md - –î–∏–∑–∞–π–Ω –≥–∞–π–¥
```

---

## üõ†Ô∏è DEVELOPMENT SETUP

### –õ–æ–∫–∞–ª—å–Ω—ã–π –∑–∞–ø—É—Å–∫:

#### 1. Backend:
```bash
cd backend
python -m venv venv
.\venv\Scripts\activate  # Windows
pip install -r requirements.txt
cp .env.example .env
# Edit .env
uvicorn app.main:app --reload --port 8000
```

#### 2. Frontend:
```bash
cd miniapp
# –õ—é–±–æ–π —Å—Ç–∞—Ç–∏—á–Ω—ã–π —Å–µ—Ä–≤–µ—Ä
python -m http.server 5500
# –∏–ª–∏
npx serve
# –∏–ª–∏
Live Server –≤ VS Code
```

#### 3. –¢–µ—Å—Ç–æ–≤—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å:
```javascript
// app.js
const TEST_USER_ID = 1109421300;  // –í–∞—à Telegram ID
```

---

## üß™ –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–ï

### API —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:
```
http://localhost:8000/docs - Swagger UI
http://localhost:8000/redoc - ReDoc
```

### –¢–µ—Å—Ç —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã:
```bash
# Health check
GET http://localhost:8000/health

# Auth
POST http://localhost:8000/api/v1/auth/telegram
{
  "telegram_chat_id": "123456",
  "first_name": "Test"
}

# Stats
GET http://localhost:8000/api/v1/analytics/stats?start_date=2025-01-01&end_date=2025-12-31
Authorization: Bearer <token>
```

---

## üìä –í–ï–†–°–ò–û–ù–ò–†–û–í–ê–ù–ò–ï

### Current Versions:
- Backend API: v1.0.0
- Frontend: v3.0.3
- Project: v2.4.5
- Cache: v3.0.3
- Service Worker: v3.0.3

### Version Strategy:
```
Backend: Semantic (major.minor.patch)
Frontend: Tied to cache version (invalidation)
Project: Release version
```

---

## üöÄ –ë–£–î–£–©–ò–ï –£–õ–£–ß–®–ï–ù–ò–Ø

### –ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–æ:

1. **Backend:**
   - [ ] Cursor pagination –¥–ª—è history
   - [ ] Redis –¥–ª—è –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è
   - [ ] Rate limiting
   - [ ] WebSocket –¥–ª—è real-time

2. **Frontend:**
   - [ ] Offline mode (–ø–æ–ª–Ω—ã–π)
   - [ ] Push notifications
   - [ ] Export PDF –æ—Ç—á—ë—Ç–æ–≤
   - [ ] Sharing —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π

3. **Features:**
   - [ ] –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (custom)
   - [ ] –¢–µ–≥–∏ –¥–ª—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π
   - [ ] –§–æ—Ç–æ —á–µ–∫–æ–≤ (OCR)
   - [ ] Recurring expenses (—à–∞–±–ª–æ–Ω—ã)
   - [ ] –ú—É–ª—å—Ç–∏—è–∑—ã—á–Ω–æ—Å—Ç—å
   - [ ] –¶–µ–ª–∏ (savings goals)

4. **AI:**
   - [ ] –ü—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–µ —Ä–∞—Å—Ö–æ–¥–æ–≤ (ML)
   - [ ] –ê–Ω–æ–º–∞–ª–∏–∏ (fraud detection)
   - [ ] –ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–µ —Å–æ–≤–µ—Ç—ã
   - [ ] Chatbot –≤ Mini App

---

## üéì –î–õ–Ø –†–ê–ó–†–ê–ë–û–¢–ß–ò–ö–û–í

### –ö–∞–∫ –¥–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–π —ç–Ω–¥–ø–æ–∏–Ω—Ç:

1. **–°–æ–∑–¥–∞—Ç—å —Å—Ö–µ–º—É** –≤ `schemas/`:
```python
class NewSchema(BaseModel):
    field: str
```

2. **–î–æ–±–∞–≤–∏—Ç—å —Ñ—É–Ω–∫—Ü–∏—é** –≤ `api/v1/`:
```python
@router.get("/new")
async def new_endpoint(
    current_user: User = Depends(get_current_user),
    db: AsyncSession = Depends(get_db)
):
    return {"result": "data"}
```

3. **–ü–æ–¥–∫–ª—é—á–∏—Ç—å —Ä–æ—É—Ç–µ—Ä** –≤ `api/v1/__init__.py`:
```python
from . import new_module
router.include_router(new_module.router)
```

4. **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å** –≤–æ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–µ:
```javascript
const data = await api.get('/new');
```

---

## ‚ö° –ü–†–û–ò–ó–í–û–î–ò–¢–ï–õ–¨–ù–û–°–¢–¨ - –ë–ï–ù–ß–ú–ê–†–ö–ò

### API Response Times:
```
/health               ~10ms
/auth/telegram        ~150ms (–≤–∫–ª. DB write)
/analytics/stats      ~80ms
/analytics/overview   ~200ms (–∫–æ–º–ø–ª–µ–∫—Å–Ω—ã–π)
/history              ~120ms (50 –∑–∞–ø–∏—Å–µ–π)
```

### Frontend Load:
```
Initial Load:         ~1.2s
Dashboard Render:     ~300ms
Chart Rendering:      ~500ms
Screen Switch:        ~100ms
```

### Cache Hit Rate:
```
Dashboard:  85% (–ø—Ä–∏ –ø–æ–≤—Ç–æ—Ä–Ω–æ–º –ø–æ—Å–µ—â–µ–Ω–∏–∏)
Analytics:  70%
History:    60%
```

---

## üîç DEBUGGING

### Backend Logs:
```python
# logging —É–∂–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω –≤ main.py
logger.info("Message")
logger.error("Error")
```

### Frontend Console:
```javascript
console.log('üìä Dashboard loaded');
console.error('‚ùå API Error:', error);
```

### Database Queries:
```bash
# –í Supabase SQL Editor
SELECT * FROM expenses 
WHERE user_id = 1 
  AND deleted_at IS NULL 
ORDER BY date DESC 
LIMIT 10;
```

---

## üìû –ö–û–ù–¢–ê–ö–¢–´ –ò –ü–û–î–î–ï–†–ñ–ö–ê

**–ê–≤—Ç–æ—Ä:** hi9ne  
**GitHub:** github.com/hi9ne/AIAccounter  
**Telegram Bot:** @aiaccounter_bot  

---

## üìú –õ–ò–¶–ï–ù–ó–ò–Ø

MIT License - –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤ –∫–æ–º–º–µ—Ä—á–µ—Å–∫–∏—Ö —Ü–µ–ª—è—Ö

---

## üéâ –ó–ê–ö–õ–Æ–ß–ï–ù–ò–ï

**AIAccounter** - —ç—Ç–æ –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω–∞—è production-ready –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞ –¥–ª—è —Ñ–∏–Ω–∞–Ω—Å–æ–≤–æ–≥–æ —É—á—ë—Ç–∞ —Å —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–º —Å—Ç–µ–∫–æ–º —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π, AI –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–µ–π, –∫—Ä–∞—Å–∏–≤—ã–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º –∏ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–µ–π. –ü—Ä–æ–µ–∫—Ç –≥–æ—Ç–æ–≤ –∫ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—é –∏ –¥–∞–ª—å–Ω–µ–π—à–µ–º—É —Ä–∞–∑–≤–∏—Ç–∏—é.

**–û—Å–Ω–æ–≤–Ω—ã–µ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
‚úÖ –ü–æ–ª–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Telegram  
‚úÖ AI –∞–≥–µ–Ω—Ç—ã –¥–ª—è –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è  
‚úÖ –ö—Ä–∞—Å–∏–≤—ã–π –∏ –±—ã—Å—Ç—Ä—ã–π Mini App  
‚úÖ –ú—É–ª—å—Ç–∏–≤–∞–ª—é—Ç–Ω–æ—Å—Ç—å  
‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ n8n  
‚úÖ Production-ready –∫–æ–¥  
‚úÖ –•–æ—Ä–æ—à–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è  

---

**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:** 21 –Ω–æ—è–±—Ä—è 2025  
**–í–µ—Ä—Å–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–∞:** 1.0
