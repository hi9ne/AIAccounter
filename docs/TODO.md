# ‚úÖ –§–∏–Ω–∞–ª—å–Ω—ã–π —á–µ–∫–ª–∏—Å—Ç - AI Accounter v2.0

## üì¶ –ß—Ç–æ –±—ã–ª–æ —Å–¥–µ–ª–∞–Ω–æ –≤ —ç—Ç–æ–π —Å–µ—Å—Å–∏–∏

### ‚ú® –ú—É–ª—å—Ç–∏–≤–∞–ª—é—Ç–Ω–æ—Å—Ç—å (–æ—Å–Ω–æ–≤–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ)

#### 1. –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö ‚úÖ
- [x] –°–æ–∑–¥–∞–Ω —Ñ–∞–π–ª –º–∏–≥—Ä–∞—Ü–∏–∏ `migrations/add_currency_field.sql`
- [x] –î–æ–±–∞–≤–ª–µ–Ω–æ –ø–æ–ª–µ `currency VARCHAR(3)` –≤ —Ç–∞–±–ª–∏—Ü—ã expenses –∏ income
- [x] –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –¥–µ—Ñ–æ–ª—Ç `'KGS'` –¥–ª—è –æ–±—Ä–∞—Ç–Ω–æ–π —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏
- [x] –î–æ–±–∞–≤–ª–µ–Ω—ã CHECK constraints (KGS, USD, EUR, RUB)
- [x] –°–æ–∑–¥–∞–Ω—ã –∏–Ω–¥–µ–∫—Å—ã –¥–ª—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

**–°—Ç–∞—Ç—É—Å:** ‚ö†Ô∏è **–¢–†–ï–ë–£–ï–¢–°–Ø –í–´–ü–û–õ–ù–ï–ù–ò–ï** - –Ω—É–∂–Ω–æ –∑–∞–ø—É—Å—Ç–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏—é –Ω–∞ Supabase

#### 2. n8n Workflow ‚úÖ
- [x] –û–±–Ω–æ–≤–ª—ë–Ω Add_expense - –¥–æ–±–∞–≤–ª–µ–Ω –ø–∞—Ä–∞–º–µ—Ç—Ä currency
- [x] –û–±–Ω–æ–≤–ª—ë–Ω Add_income - –¥–æ–±–∞–≤–ª–µ–Ω –ø–∞—Ä–∞–º–µ—Ç—Ä currency
- [x] –û–±–Ω–æ–≤–ª—ë–Ω System Message —Å –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º–∏ –ø–æ –≤–∞–ª—é—Ç–∞–º
- [x] AI —Ç–µ–ø–µ—Ä—å —Ä–∞—Å–ø–æ–∑–Ω–∞—ë—Ç: "100 –¥–æ–ª–ª–∞—Ä–æ–≤", "50 –µ–≤—Ä–æ", "3000 —Ä—É–±–ª–µ–π"
- [x] –°–æ—Ö—Ä–∞–Ω–µ–Ω–æ –≤ `AnaliziFinance.json`

**–°—Ç–∞—Ç—É—Å:** ‚ö†Ô∏è **–¢–†–ï–ë–£–ï–¢–°–Ø –ò–ú–ü–û–†–¢** - –Ω—É–∂–Ω–æ –æ–±–Ω–æ–≤–∏—Ç—å workflow –≤ n8n

#### 3. Telegram Mini App ‚úÖ
- [x] –î–æ–±–∞–≤–ª–µ–Ω –≤—ã–ø–∞–¥–∞—é—â–∏–π —Å–ø–∏—Å–æ–∫ –≤–∞–ª—é—Ç (KGS/USD/EUR/RUB)
- [x] –û–±–Ω–æ–≤–ª–µ–Ω–æ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å—É–º–º —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ —Å–∏–º–≤–æ–ª–∞–º–∏ –≤–∞–ª—é—Ç
- [x] –ò—Å—Ç–æ—Ä–∏—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –≤–∞–ª—é—Ç—É
- [x] –î–æ–±–∞–≤–ª–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è –ø—Ä—è–º–æ–≥–æ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ Supabase
- [x] –†–∞—Å—à–∏—Ä–µ–Ω —Å–ø–∏—Å–æ–∫ –∫–∞—Ç–µ–≥–æ—Ä–∏–π (+9 –Ω–æ–≤—ã—Ö)
- [x] –£–ª—É—á—à–µ–Ω UX –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

**–°—Ç–∞—Ç—É—Å:** ‚ö†Ô∏è **–¢–†–ï–ë–£–ï–¢–°–Ø –ó–ê–ì–†–£–ó–ö–ê** - –Ω—É–∂–Ω–æ –∑–∞–≥—Ä—É–∑–∏—Ç—å –Ω–∞ —Ö–æ—Å—Ç–∏–Ω–≥

---

### üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è ‚úÖ

#### –ù–æ–≤—ã–µ —Ñ–∞–π–ª—ã
- [x] `CHANGELOG.md` - –∏—Å—Ç–æ—Ä–∏—è –≤–µ—Ä—Å–∏–π
- [x] `UPGRADE_TO_2.0.md` - –ø–æ—à–∞–≥–æ–≤–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
- [x] `SUMMARY.md` - –∏—Ç–æ–≥–æ–≤–∞—è —Å–≤–æ–¥–∫–∞ –≤—Å–µ—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π
- [x] `docs/MINIAPP_SETUP.md` - –ø–æ–ª–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ Mini App
- [x] `docs/MULTICURRENCY_GUIDE.md` - –ø—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤–∞–ª—é—Ç
- [x] `miniapp-config.example.js` - –ø—Ä–∏–º–µ—Ä –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

#### –û–±–Ω–æ–≤–ª—ë–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã
- [x] `docs/README.md` - –¥–æ–±–∞–≤–ª–µ–Ω–æ —É–ø–æ–º–∏–Ω–∞–Ω–∏–µ –º—É–ª—å—Ç–∏–≤–∞–ª—é—Ç–Ω–æ—Å—Ç–∏
- [x] `TelegramMiniApp.html` - –ø–æ–ª–Ω–æ—Å—Ç—å—é –ø–µ—Ä–µ—Ä–∞–±–æ—Ç–∞–Ω

**–°—Ç–∞—Ç—É—Å:** ‚úÖ **–ì–û–¢–û–í–û** - –≤—Å—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è —Å–æ–∑–¥–∞–Ω–∞

---

## üéØ –ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å –°–ï–ô–ß–ê–°

### –®–∞–≥ 1: –í—ã–ø–æ–ª–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏—é –ë–î (–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û)

```sql
-- –û—Ç–∫—Ä–æ–π—Ç–µ Supabase Dashboard ‚Üí SQL Editor
-- –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –∏ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ —Ñ–∞–π–ª–∞:
migrations/add_currency_field.sql
```

**–ü—Ä–æ–≤–µ—Ä–∫–∞:**
```sql
SELECT column_name, data_type, column_default 
FROM information_schema.columns 
WHERE table_name = 'expenses' AND column_name = 'currency';
```

–î–æ–ª–∂–Ω–∞ –≤–µ—Ä–Ω—É—Ç—å—Å—è —Å—Ç—Ä–æ–∫–∞ —Å:
- column_name: `currency`
- data_type: `character varying`
- column_default: `'KGS'::character varying`

---

### –®–∞–≥ 2: –û–±–Ω–æ–≤–∏—Ç—å n8n workflow (–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û)

**–í–∞—Ä–∏–∞–Ω—Ç A - –ò–º–ø–æ—Ä—Ç (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è):**
1. –û—Ç–∫—Ä–æ–π—Ç–µ n8n
2. Workflows ‚Üí Import from File
3. –í—ã–±–µ—Ä–∏—Ç–µ –æ–±–Ω–æ–≤–ª—ë–Ω–Ω—ã–π `AnaliziFinance.json`
4. –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ –∑–∞–º–µ–Ω—É
5. –ü–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–∏—Ç–µ credentials
6. –ê–∫—Ç–∏–≤–∏—Ä—É–π—Ç–µ workflow

**–í–∞—Ä–∏–∞–Ω—Ç B - –†—É—á–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:**
–°–º. –ø–æ–¥—Ä–æ–±–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –≤ `UPGRADE_TO_2.0.md`

**–ü—Ä–æ–≤–µ—Ä–∫–∞:**
–û—Ç–ø—Ä–∞–≤—å—Ç–µ –±–æ—Ç—É: `–†–∞—Å—Ö–æ–¥ 100 –¥–æ–ª–ª–∞—Ä–æ–≤ —Ç–µ—Å—Ç`
–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤ –ë–î: `SELECT * FROM expenses WHERE description LIKE '%—Ç–µ—Å—Ç%'`
–î–æ–ª–∂–Ω–æ –±—ã—Ç—å: `currency = 'USD'`

---

### –®–∞–≥ 3: –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –±–æ—Ç–∞ (–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û)

```
–¢–µ—Å—Ç 1: –†–∞—Å—Ö–æ–¥ 500 —Å–æ–º –ø—Ä–æ–¥—É–∫—Ç—ã
‚Üí –î–æ–ª–∂–Ω–æ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å—Å—è —Å currency = 'KGS'

–¢–µ—Å—Ç 2: –î–æ—Ö–æ–¥ 100 –¥–æ–ª–ª–∞—Ä–æ–≤ —Ñ—Ä–∏–ª–∞–Ω—Å
‚Üí –î–æ–ª–∂–Ω–æ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å—Å—è —Å currency = 'USD'

–¢–µ—Å—Ç 3: –†–∞—Å—Ö–æ–¥ 50 –µ–≤—Ä–æ –∫–∞—Ñ–µ
‚Üí –î–æ–ª–∂–Ω–æ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å—Å—è —Å currency = 'EUR'

–¢–µ—Å—Ç 4: –î–æ—Ö–æ–¥ 5000 —Ä—É–±–ª–µ–π –ø–æ–¥—Ä–∞–±–æ—Ç–∫–∞
‚Üí –î–æ–ª–∂–Ω–æ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å—Å—è —Å currency = 'RUB'

–¢–µ—Å—Ç 5: –°–∫–æ–ª—å–∫–æ –ø–æ—Ç—Ä–∞—Ç–∏–ª –≤ –¥–æ–ª–ª–∞—Ä–∞—Ö?
‚Üí AI –¥–æ–ª–∂–µ–Ω –ø–æ–∫–∞–∑–∞—Ç—å —Ç–æ–ª—å–∫–æ USD —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏
```

---

### –®–∞–≥ 4: –û–±–Ω–æ–≤–∏—Ç—å Mini App (–û–ü–¶–ò–û–ù–ê–õ–¨–ù–û)

**–ï—Å–ª–∏ —É –≤–∞—Å —É–∂–µ –µ—Å—Ç—å Mini App:**

1. **–°–æ–∑–¥–∞–π—Ç–µ –∫–æ–Ω—Ñ–∏–≥:**
```bash
cd "C:\Users\KK\Desktop\AIAccounter"
# –§–∞–π–ª miniapp-config.js —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç, –æ—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ –µ–≥–æ
```

2. **–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≤ miniapp-config.js:**
```javascript
const MINIAPP_CONFIG = {
    supabase: {
        url: 'https://YOUR_PROJECT.supabase.co',
        anonKey: 'YOUR_ANON_KEY',
        enabled: false  // true –¥–ª—è –ø—Ä—è–º–æ–≥–æ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
    },
    defaultCurrency: 'KGS',
    mode: 'bot'  // –∏–ª–∏ 'supabase'
};
```

3. **–ó–∞–≥—Ä—É–∑–∏—Ç–µ –Ω–∞ —Ö–æ—Å—Ç–∏–Ω–≥:**
   - GitHub Pages
   - Vercel
   - Netlify
   - –ò–ª–∏ –≤–∞—à —Å–µ—Ä–≤–µ—Ä

**–ï—Å–ª–∏ Mini App –µ—â—ë –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω:**
–°–º. –ø–æ–ª–Ω—É—é –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—é: `docs/MINIAPP_SETUP.md`

---

## üìã –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞ (—Ñ–∏–Ω–∞–ª—å–Ω–∞—è)

```
AIAccounter/
‚îú‚îÄ‚îÄ üìÑ AnaliziFinance.json                    ‚úÖ –û–±–Ω–æ–≤–ª—ë–Ω - –º—É–ª—å—Ç–∏–≤–∞–ª—é—Ç–Ω–æ—Å—Ç—å
‚îú‚îÄ‚îÄ üìÑ BankParser_Kyrgyzstan_PostgreSQL.json  ‚úÖ –ë–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π
‚îú‚îÄ‚îÄ üìÑ BudgetSystem.json                      ‚úÖ –ë–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π
‚îú‚îÄ‚îÄ üìÑ ErrorHandling_PostgreSQL.json          ‚úÖ –ë–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π
‚îú‚îÄ‚îÄ üìÑ TaxCalculator_Kyrgyzstan.json          ‚úÖ –ë–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π
‚îú‚îÄ‚îÄ üìÑ WeeklyReport.json                      ‚úÖ –ë–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π
‚îÇ
‚îú‚îÄ‚îÄ üåê TelegramMiniApp.html                   ‚≠ê –û–±–Ω–æ–≤–ª—ë–Ω - –≤–∞–ª—é—Ç—ã + –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
‚îú‚îÄ‚îÄ ‚öôÔ∏è miniapp-config.example.js              ‚≠ê –ù–æ–≤—ã–π - –ø—Ä–∏–º–µ—Ä –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
‚îú‚îÄ‚îÄ ‚öôÔ∏è miniapp-config.js                      ‚≠ê –°—É—â–µ—Å—Ç–≤—É—é—â–∏–π - –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
‚îÇ
‚îú‚îÄ‚îÄ üìã CHANGELOG.md                           ‚≠ê –ù–æ–≤—ã–π - –∏—Å—Ç–æ—Ä–∏—è –≤–µ—Ä—Å–∏–π
‚îú‚îÄ‚îÄ üöÄ UPGRADE_TO_2.0.md                      ‚≠ê –ù–æ–≤—ã–π - –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
‚îú‚îÄ‚îÄ üìä SUMMARY.md                             ‚≠ê –ù–æ–≤—ã–π - –∏—Ç–æ–≥–æ–≤–∞—è —Å–≤–æ–¥–∫–∞
‚îÇ
‚îú‚îÄ‚îÄ üìÅ migrations/
‚îÇ   ‚îî‚îÄ‚îÄ add_currency_field.sql                ‚≠ê –ù–æ–≤—ã–π - –º–∏–≥—Ä–∞—Ü–∏—è –ë–î
‚îÇ
‚îî‚îÄ‚îÄ üìÅ docs/
    ‚îú‚îÄ‚îÄ üìñ README.md                          ‚úÖ –û–±–Ω–æ–≤–ª—ë–Ω - –º—É–ª—å—Ç–∏–≤–∞–ª—é—Ç–Ω–æ—Å—Ç—å
    ‚îú‚îÄ‚îÄ üõ†Ô∏è INSTALLATION_GUIDE.md             ‚úÖ –ë–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π
    ‚îú‚îÄ‚îÄ üìã IMPLEMENTATION_PLAN.md             ‚úÖ –ë–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π
    ‚îú‚îÄ‚îÄ ‚úÖ READY_WORKFLOWS.md                 ‚úÖ –ë–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π
    ‚îú‚îÄ‚îÄ üóÉÔ∏è SQL_QUERIES.md                     ‚úÖ –ë–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π
    ‚îú‚îÄ‚îÄ üì± MINIAPP_SETUP.md                   ‚≠ê –ù–æ–≤—ã–π - –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ Mini App
    ‚îî‚îÄ‚îÄ üí± MULTICURRENCY_GUIDE.md             ‚≠ê –ù–æ–≤—ã–π - –≥–∞–π–¥ –ø–æ –≤–∞–ª—é—Ç–∞–º
```

**–ò—Ç–æ–≥–æ —Ñ–∞–π–ª–æ–≤:**
- ‚≠ê –ù–æ–≤—ã—Ö: 7
- ‚úÖ –û–±–Ω–æ–≤–ª—ë–Ω–Ω—ã—Ö: 3
- üìÑ –ë–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π: 10

---

## üéØ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç (–µ—Å–ª–∏ –≤—Å—ë –Ω–æ–≤–æ–µ)

### –î–ª—è –Ω–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:
1. –°–ª–µ–¥—É–π—Ç–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏: `docs/INSTALLATION_GUIDE.md`
2. –ò–º–ø–æ—Ä—Ç–∏—Ä—É–π—Ç–µ –≤—Å–µ workflows
3. –í—ã–ø–æ–ª–Ω–∏—Ç–µ –º–∏–≥—Ä–∞—Ü–∏—é –ë–î
4. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ Mini App (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

### –î–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π —Å–∏—Å—Ç–µ–º—ã:
1. –°–ª–µ–¥—É–π—Ç–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏: `UPGRADE_TO_2.0.md`
2. –í—ã–ø–æ–ª–Ω–∏—Ç–µ 3 —à–∞–≥–∞: –ë–î ‚Üí n8n ‚Üí –¢–µ—Å—Ç
3. Mini App - –ø–æ –∂–µ–ª–∞–Ω–∏—é

---

## üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏

### ‚úÖ –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
```sql
-- –ü—Ä–æ–≤–µ—Ä–∫–∞ 1: –ö–æ–ª–æ–Ω–∫–∞ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
\d expenses;  -- –î–æ–ª–∂–Ω–æ –±—ã—Ç—å: currency | character varying(3) | default 'KGS'::character varying

-- –ü—Ä–æ–≤–µ—Ä–∫–∞ 2: Constraints —Ä–∞–±–æ—Ç–∞—é—Ç
INSERT INTO expenses (amount, currency, category, telegram_user_id)
VALUES (100, 'INVALID', '–¢–µ—Å—Ç', 123456789);
-- –î–æ–ª–∂–Ω–∞ –±—ã—Ç—å –æ—à–∏–±–∫–∞: violates check constraint

-- –ü—Ä–æ–≤–µ—Ä–∫–∞ 3: –ò–Ω–¥–µ–∫—Å—ã —Å–æ–∑–¥–∞–Ω—ã
SELECT indexname FROM pg_indexes WHERE tablename = 'expenses' AND indexname LIKE '%currency%';
-- –î–æ–ª–∂–µ–Ω –≤–µ—Ä–Ω—É—Ç—å: idx_expenses_currency
```

### ‚úÖ n8n Workflow
- [ ] Workflow `AnaliziFinance` –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω –∏–ª–∏ –æ–±–Ω–æ–≤–ª—ë–Ω
- [ ] Add_expense —Å–æ–¥–µ—Ä–∂–∏—Ç –ø–æ–ª–µ `currency`
- [ ] Add_income —Å–æ–¥–µ—Ä–∂–∏—Ç –ø–æ–ª–µ `currency`
- [ ] System Message —Å–æ–¥–µ—Ä–∂–∏—Ç –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ –≤–∞–ª—é—Ç–∞–º
- [ ] Workflow –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω

### ‚úÖ Telegram Bot
- [ ] –ö–æ–º–∞–Ω–¥–∞ "–†–∞—Å—Ö–æ–¥ 100 USD —Ç–µ—Å—Ç" —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] –ö–æ–º–∞–Ω–¥–∞ "–î–æ—Ö–æ–¥ 50 EUR —Ñ—Ä–∏–ª–∞–Ω—Å" —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] AI —Ä–∞—Å–ø–æ–∑–Ω–∞—ë—Ç –≤–∞–ª—é—Ç—ã –∏–∑ —Ç–µ–∫—Å—Ç–∞
- [ ] –°—Ç–∞—Ä—ã–µ –∫–æ–º–∞–Ω–¥—ã –±–µ–∑ –≤–∞–ª—é—Ç—ã —Ä–∞–±–æ—Ç–∞—é—Ç (–¥–µ—Ñ–æ–ª—Ç KGS)

### ‚úÖ Mini App (–µ—Å–ª–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω)
- [ ] –§–æ—Ä–º–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –≤—ã–ø–∞–¥–∞—é—â–∏–π —Å–ø–∏—Å–æ–∫ –≤–∞–ª—é—Ç
- [ ] –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç —Å–∏–º–≤–æ–ª—ã –≤–∞–ª—é—Ç
- [ ] –ò—Å—Ç–æ—Ä–∏—è –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –≤–∞–ª—é—Ç—É –∫–∞–∂–¥–æ–π —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏
- [ ] –ö–æ–Ω—Ñ–∏–≥ –∑–∞–ø–æ–ª–Ω–µ–Ω –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏

---

## üìä –¢–µ—Å—Ç–æ–≤—ã–π —Å—Ü–µ–Ω–∞—Ä–∏–π (–ø–æ–ª–Ω—ã–π)

### 1. –ë–∞–∑–æ–≤—ã–π —Ç–µ—Å—Ç –≤–∞–ª—é—Ç
```bash
# –ß–µ—Ä–µ–∑ Telegram –±–æ—Ç–∞ –æ—Ç–ø—Ä–∞–≤—å—Ç–µ:
–†–∞—Å—Ö–æ–¥ 1000 —Å–æ–º –ø—Ä–æ–¥—É–∫—Ç—ã
–†–∞—Å—Ö–æ–¥ 50 –¥–æ–ª–ª–∞—Ä–æ–≤ –∫–∞—Ñ–µ  
–î–æ—Ö–æ–¥ 100 –µ–≤—Ä–æ —Ñ—Ä–∏–ª–∞–Ω—Å
–†–∞—Å—Ö–æ–¥ 3000 —Ä—É–±–ª–µ–π –æ–¥–µ–∂–¥–∞

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤ –ë–î:
SELECT amount, currency, category FROM expenses ORDER BY id DESC LIMIT 3;
SELECT amount, currency, category FROM income ORDER BY id DESC LIMIT 1;
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
```
expenses:
1000 | KGS | –ü—Ä–æ–¥—É–∫—Ç—ã
50   | USD | –ö–∞—Ñ–µ
3000 | RUB | –û–¥–µ–∂–¥–∞

income:
100  | EUR | –§—Ä–∏–ª–∞–Ω—Å
```

### 2. –¢–µ—Å—Ç AI –∞–Ω–∞–ª–∏—Ç–∏–∫–∏
```bash
# –ß–µ—Ä–µ–∑ –±–æ—Ç–∞:
–°–∫–æ–ª—å–∫–æ –ø–æ—Ç—Ä–∞—Ç–∏–ª –≤ –¥–æ–ª–ª–∞—Ä–∞—Ö?
‚Üí AI –¥–æ–ª–∂–µ–Ω –ø–æ–∫–∞–∑–∞—Ç—å —Ç–æ–ª—å–∫–æ USD —Ä–∞—Å—Ö–æ–¥—ã

–ö–∞–∫–æ–π –¥–æ—Ö–æ–¥ –≤ –µ–≤—Ä–æ?
‚Üí AI –¥–æ–ª–∂–µ–Ω –ø–æ–∫–∞–∑–∞—Ç—å —Ç–æ–ª—å–∫–æ EUR –¥–æ—Ö–æ–¥—ã

–ü–æ–∫–∞–∂–∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –ø–æ –≤—Å–µ–º –≤–∞–ª—é—Ç–∞–º
‚Üí AI –¥–æ–ª–∂–µ–Ω –ø–æ–∫–∞–∑–∞—Ç—å —Ä–∞–∑–±–∏–≤–∫—É –ø–æ –≤–∞–ª—é—Ç–∞–º
```

### 3. –¢–µ—Å—Ç Mini App
```bash
1. –û—Ç–∫—Ä–æ–π—Ç–µ Mini App
2. –î–æ–±–∞–≤—å—Ç–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—é:
   - –¢–∏–ø: –†–∞—Å—Ö–æ–¥
   - –°—É–º–º–∞: 500
   - –í–∞–ª—é—Ç–∞: USD
   - –ö–∞—Ç–µ–≥–æ—Ä–∏—è: –ö–∞—Ñ–µ
   - –û–ø–∏—Å–∞–Ω–∏–µ: –¢–µ—Å—Ç–æ–≤–∞—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤ –∏—Å—Ç–æ—Ä–∏–∏ - –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å "$"
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤ –ë–î - –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å currency = 'USD'
```

---

## üÜò –ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

### –ü—Ä–æ–±–ª–µ–º–∞ 1: "column currency does not exist"
**–†–µ—à–µ–Ω–∏–µ:**
- –ú–∏–≥—Ä–∞—Ü–∏—è –Ω–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∞
- –í—ã–ø–æ–ª–Ω–∏—Ç–µ `migrations/add_currency_field.sql` –≤ Supabase

### –ü—Ä–æ–±–ª–µ–º–∞ 2: –í–∞–ª—é—Ç–∞ –≤—Å–µ–≥–¥–∞ KGS
**–†–µ—à–µ–Ω–∏–µ:**
- System Message –Ω–µ –æ–±–Ω–æ–≤–ª—ë–Ω
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –≤ n8n –µ—Å—Ç—å –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ –≤–∞–ª—é—Ç–∞–º
- –ò–º–ø–æ—Ä—Ç–∏—Ä—É–π—Ç–µ –æ–±–Ω–æ–≤–ª—ë–Ω–Ω—ã–π `AnaliziFinance.json`

### –ü—Ä–æ–±–ª–µ–º–∞ 3: Mini App –Ω–µ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –≤–∞–ª—é—Ç—É
**–†–µ—à–µ–Ω–∏–µ:**
- –û—á–∏—Å—Ç–∏—Ç–µ –∫—ç—à –±—Ä–∞—É–∑–µ—Ä–∞ (Ctrl+Shift+R)
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –∑–∞–≥—Ä—É–∂–µ–Ω –Ω–æ–≤—ã–π `TelegramMiniApp.html`
- –û—Ç–∫—Ä–æ–π—Ç–µ DevTools –∏ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ console –Ω–∞ –æ—à–∏–±–∫–∏

### –ü—Ä–æ–±–ª–µ–º–∞ 4: "$fromAI invalid type parameter"
**–†–µ—à–µ–Ω–∏–µ:**
- –û–±–Ω–æ–≤–∏—Ç–µ n8n –¥–æ –ø–æ—Å–ª–µ–¥–Ω–µ–π –≤–µ—Ä—Å–∏–∏
- –ò–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å—Ç–∞—Ä—ã–π —Å–∏–Ω—Ç–∞–∫—Å–∏—Å –±–µ–∑ "string"

---

## üìö –ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏

- **–ë—ã—Å—Ç—Ä–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:** `UPGRADE_TO_2.0.md`
- **–ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:** `docs/MULTICURRENCY_GUIDE.md`
- **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ Mini App:** `docs/MINIAPP_SETUP.md`
- **–ò—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π:** `CHANGELOG.md`
- **–ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:** `docs/README.md`

---

## üéâ –ü–æ–∑–¥—Ä–∞–≤–ª—è–µ–º!

–í–∞—à–∞ —Å–∏—Å—Ç–µ–º–∞ AI Accounter –≥–æ—Ç–æ–≤–∞ –∫ —Ä–∞–±–æ—Ç–µ —Å –º—É–ª—å—Ç–∏–≤–∞–ª—é—Ç–Ω–æ—Å—Ç—å—é! üí±

### –¢–µ–ø–µ—Ä—å –≤—ã –º–æ–∂–µ—Ç–µ:
- ‚úÖ –î–æ–±–∞–≤–ª—è—Ç—å —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –≤ 4 –≤–∞–ª—é—Ç–∞—Ö (KGS, USD, EUR, RUB)
- ‚úÖ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å AI –¥–ª—è —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏—è –≤–∞–ª—é—Ç—ã –∏–∑ —Ç–µ–∫—Å—Ç–∞
- ‚úÖ –ü—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –ø–æ –≤–∞–ª—é—Ç–∞–º
- ‚úÖ –†–∞–±–æ—Ç–∞—Ç—å —á–µ—Ä–µ–∑ –æ–±–Ω–æ–≤–ª—ë–Ω–Ω—ã–π Mini App

### –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏:
1. –í—ã–ø–æ–ª–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏—é –ë–î ‚ö†Ô∏è
2. –û–±–Ω–æ–≤–∏—Ç—å n8n workflow ‚ö†Ô∏è
3. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —Å–∏—Å—Ç–µ–º—É ‚ö†Ô∏è
4. –û–±–Ω–æ–≤–∏—Ç—å Mini App (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

---

**üìÖ –î–∞—Ç–∞:** 28 —è–Ω–≤–∞—Ä—è 2025  
**üè∑Ô∏è –í–µ—Ä—Å–∏—è:** 2.0.0  
**‚è±Ô∏è –í—Ä–µ–º—è –Ω–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:** ~15 –º–∏–Ω—É—Ç  
**üë®‚Äçüíª –°—Ç–∞—Ç—É—Å:** ‚úÖ –ì–æ—Ç–æ–≤–æ –∫ production

**üöÄ –ù–∞—á–Ω–∏—Ç–µ –ø—Ä—è–º–æ —Å–µ–π—á–∞—Å!** ‚Üí `UPGRADE_TO_2.0.md`
